<?php
if (!defined("XOOPS_ROOT_PATH")) {	die("XOOPS root path not defined");}
class video_votedata extends XoopsObject{	// constructor	function __construct()	{		$this->XoopsObject();		$this->initVar("ratingid",XOBJ_DTYPE_INT,null,false,11);		$this->initVar("lid",XOBJ_DTYPE_INT,null,false,11);		$this->initVar("ratinguser",XOBJ_DTYPE_INT,null,false,11);		$this->initVar("rating",XOBJ_DTYPE_OTHER,null,false,3);		$this->initVar("ratinghostname",XOBJ_DTYPE_TXTBOX, null, false);		$this->initVar("ratingtimestamp",XOBJ_DTYPE_INT,null,false,10);	}	function video_votedata()	{		$this->__construct();	}	function getForm($lid, $action = false)	{		global $xoopsDB, $xoopsModule, $xoopsModuleConfig;		if ($action === false) {			$action = $_SERVER['REQUEST_URI'];		}		if (!$this->isNew()) {			$rating = 11;		}else{			$rating = $this->getVar('rating');		}		$form = new XoopsThemeForm(_MD_VIDEO_SINGLEFILE_RATHFILE, 'rateform', 'ratefile.php', 'post');		$form->setExtra('enctype="multipart/form-data"');		$rating = new XoopsFormSelect(_MD_VIDEO_RATEFILE_VOTE, 'rating', $rating);		$options = array('11' => '--', '10' => '10', '9' => '9','8' => '8','7' => '7','6' => '6','5' => '5','4' => '4','3' => '3','2' => '2','1' => '1','0' => '0');		$rating->addOptionArray($options);		$form->addElement($rating, true);		$form->addElement(new XoopsFormCaptcha(), true);		$form->addElement(new XoopsFormHidden('op', 'save'));		$form->addElement(new XoopsFormHidden('lid', $lid));		// Submit button		$button_tray = new XoopsFormElementTray('' ,'');		$button_tray->addElement(new XoopsFormButton('', 'post', _MD_VIDEO_RATEFILE_RATE, 'submit'));		$form->addElement($button_tray);		return $form;	}}
class videovideo_votedataHandler extends XoopsPersistableObjectHandler{	function __construct(&$db)	{		parent::__construct($db, "video_votedata", 'video_votedata', 'ratingid', 'lid');	}}
?>